// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// APPLICATION !!!!!!! APPLICATION !!!!!!! APPLICATION !!!!!!! APPLICATION !!!!!!! APPLICATION !!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
var Ctrl = ['$scope','API',
	function($scope,API){

		var scope = $scope;

		scope.hash = location.hash.replace('#','');

		scope.tab = {};
		scope.tab[scope.hash] = true;

		scope.timezone = jstz.determine();

		scope.loaded = true;

		scope.date = new Date();

		JP('CTRL');

		scope.current_user = current_user;

		scope.API = API;

		scope.moment = function(string,format){
			return moment.tz(string,scope.timezone.name());
		};

		scope.zone = function(t){
			return zone(t);
		};

		scope.times = function(n){
			return new Array(parseInt(n));
		};

		// var PATH = '/tracks/51126400';

		// scope.track = {};

		// scope.SC = SC;

		// scope.SC.initialize({

  //               client_id: '4d0e36fdbe21f60751fa33f6c3ab37b9'

		// });

  //       scope.SC.stream(PATH,function(sound){

  //       	sound.play();

  //       	scope.SC.get(PATH,function(track,err){

  //       		scope.track = {test: 'HELLO!'};

  //       		// JP(scope.track.title);

  //       	});

  //       });

	}
];